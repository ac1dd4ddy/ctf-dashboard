<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>CTF Dashboard</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>PseudoSudo CTF Dashboard</h1>
  <p id="user-display" style="font-size: 0.9rem; margin: 5px 0;"></p>
  <p style="font-size: 0.9rem; opacity: 0.8;">Note: Please enable popups for full functionality</p>
  <p id="drag-hint" style="font-size: 0.9rem; color: #ff8f40; margin: 10px 0; font-weight: 500;">üí° Hint: Try dragging the modules around</p>

  <div class="grid-container">
    <section id="ctf-section" data-module="ctf">
      <h2>Upcoming CTFs</h2>
      <ul id="ctf-list"></ul>
      <div class="resize-handle"></div>
    </section>

    <section id="progress-section" data-module="progress">
      <h2>Team Progress</h2>
      <ul id="progress-list"></ul>
      <div class="resize-handle"></div>
    </section>

    <section id="notes-section" data-module="notes">
      <h2>Notes</h2>
      <ul id="Notes-list"></ul>
      <input id="Notes-input" placeholder="Add a task" />
      <button onclick="addNotes()">Add</button>
      <div class="resize-handle"></div>
    </section>

    <section id="collab-section" data-module="collab">
      <h2>Collaborative Notes</h2>
      <div id="collab-auth">
        <input id="team-name" placeholder="Team name" style="width: 45%; margin-right: 5%;" />
        <input id="team-password" type="password" placeholder="Password" style="width: 45%; margin-right: 5%;" />
        <button onclick="joinTeam()">Join</button>
        <button onclick="createTeam()">Create</button>
      </div>
      <div id="collab-editor" style="display: none;">
        <h3 id="team-title"></h3>
        <textarea id="collab-textarea" style="width: 100%; height: 200px; margin: 10px 0; padding: 10px; border: 2px solid #e7e8e9; border-radius: 5px; resize: vertical;"></textarea>
        <input id="snapshot-name" placeholder="Snapshot name" style="width: 60%; margin-right: 5%; padding: 12px;" />
        <button onclick="saveSnapshot()" style="padding: 12px 20px;">Save Snapshot</button><br><br>
        <select id="snapshot-select" style="width: 60%; margin-right: 5%; padding: 12px;">
          <option value="">Select snapshot to load...</option>
        </select>
        <button onclick="loadSnapshot()" style="padding: 12px 20px;">Load Snapshot</button>
        <button onclick="leaveTeam()">Leave Team</button>
      </div>
      <div class="resize-handle"></div>
    </section>

    <section id="tickets-section" data-module="tickets">
      <h2>Support Tickets</h2>
      <div id="ticket-create">
        <input id="ticket-email" placeholder="User email" style="width: 45%; margin-right: 5%;" />
        <input id="ticket-subject" placeholder="Subject" style="width: 45%; margin-right: 5%;" />
        <textarea id="ticket-description" placeholder="Description" style="width: 100%; height: 60px; margin: 10px 0; padding: 10px; border: 2px solid #e7e8e9; border-radius: 5px; resize: vertical;"></textarea>
        <button onclick="createTicket()">Create Ticket</button>
      </div>
      <div id="tickets-list"></div>
      <div class="resize-handle"></div>
    </section>

    <section id="knowledge-section" data-module="knowledge">
      <h2>Knowledge Base</h2>
      <ul>
        <li><a href="https://discord.gg/jWWA5VkHxW" target="_blank">Discord Server</a></li>
        <li><a href="https://www.notion.so/HACC-Capture-The-Flag-22fa08af412b80118068d0424b1dd691" target="_blank">Introduction To CTFs</a></li>
        <li><a href="https://www.notion.so/HACC-CTF-Tools-and-Resources-22fa08af412b8013b6cad1141ed4931f" target="_blank">Tools & Resources</a></li>
      </ul>
      <div class="resize-handle"></div>
    </section>
  </div>

  <button id="theme-toggle" style="position: fixed; top: 20px; left: 20px; padding: 10px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">üåô</button>
  <a href="help.html" style="position: fixed; top: 20px; left: 80px; padding: 10px 15px; background: #ff8f40; color: white; border: none; border-radius: 5px; cursor: pointer; text-decoration: none;">‚ùì Help</a>
  <button id="sign-out" style="display: none;">Sign Out</button>

  <script type="module" src="script.js"></script>

</body>
</html>
